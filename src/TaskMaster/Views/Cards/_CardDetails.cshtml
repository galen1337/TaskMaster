@model Application.Services.CardDto

<div class="modal-body">
	<h5 class="mb-2">@Model.Title</h5>
	<p>@Model.Description</p>
	<dl class="row small">
		<dt class="col-sm-3">Priority</dt>
		<dd class="col-sm-9">@Model.Priority</dd>
	</dl>
	<form asp-controller="Cards" asp-action="Edit" method="post" class="mt-3">
		<input type="hidden" name="id" value="@Model.Id" />
		<div class="mb-2">
			<label class="form-label">Title</label>
			<input name="title" value="@Model.Title" class="form-control" />
		</div>
		<div class="mb-2">
			<label class="form-label">Description</label>
			<textarea name="description" class="form-control">@Model.Description</textarea>
		</div>
		<div class="mb-2">
			<label class="form-label">Priority</label>
			<select name="priority" class="form-select">
				@foreach (var p in Enum.GetValues(typeof(Domain.Enums.Priority)).Cast<Domain.Enums.Priority>())
				{
					<option value="@p" selected="@(p == Model.Priority)">@p</option>
				}
			</select>
		</div>
		<button type="submit" class="btn btn-primary">Save</button>
	</form>
	<form asp-controller="Cards" asp-action="Assign" method="post" class="mt-3">
		<input type="hidden" name="id" value="@Model.Id" />
		<div class="mb-2">
			<label class="form-label">Assignee</label>
			<select name="userId" class="form-select">
				<option value="">Unassigned</option>
				@foreach (var u in Model.Assignees)
				{
					<option value="@u.UserId" selected="@(Model.AssigneeId == u.UserId)">@u.Email</option>
				}
			</select>
		</div>
		<button type="submit" class="btn btn-outline-secondary">Assign</button>
	</form>
	<form asp-controller="Cards" asp-action="Delete" method="post" class="mt-2">
		<input type="hidden" name="id" value="@Model.Id" />
		<button type="submit" class="btn btn-outline-danger">Delete</button>
	</form>
</div> 